<script type="text/template" id="task-connection-template">
  <div class="grid">
    <div class="grid_i grid_i__grid-1-1">
      <div class="mb-3">
        <h6 class="tx-center">Добавить задачу на соединение</h6>
      </div>
    </div>
    <div class="grid_i grid_i__grid-2-7 grid_i__prefix-3-7">
      <div>
        <label class="form_el form_label">за время</label>
        <div class="form_el js-form_el form_tx">
          <input class="form_el_tag form_tx_tag js-time-limit" type="text" value="<%%= time_limit %>">
        </div>
        <label class="form_el form_label">минут</label>
      </div>
    </div><div class="grid_i grid_i__grid-2-7">
    <div>
      <label class="form_el form_label">всего</label>
      <div class="form_el js-form_el form_tx">
        <input class="form_el_tag form_tx_tag js-max-attempts-count" type="text" value="<%%= max_attempts_count %>">
      </div>
      <label class="form_el form_label">попыток</label>
    </div></div>
    <div class="grid_i grid_i__grid-1-9">
      <label class="form_el form_label">Задание</label>
    </div><div class="grid_i grid_i__grid-8-9 mb-4">
      <div class="form_el js-form_el form_el__block form_textarea js-description">
        <textarea class="form_el_tag form_textarea_tag"><%%= description %></textarea>
      </div>
    </div><div class='grid_i grid_i__grid-3-7'>
    <label class='form_el form_label form_label__el'>
      <div class='form_el js-form_el form_checkbox'>
        <input class='form_el_tag form_checkbox_tag js-final-task' type="checkbox" <%% print(final ? 'checked="checked"' : '') %>>
      </div>
      <p class='form_el_inner form_label_inner'>Итоговое задание</p>
    </label>
  </div>
    <div class="grid_i grid_i__grid-1-1">
      <div class="exercise_test_questions">
        <div class="grid grid__center">
          <%% var columns = this.model.columns %>
          <%% _.each(columns.models, function(column, index){ %>
              <div class="grid_i grid_i__grid-3-10">
                <div class="form_el js-form_el form_tx">
                  <input class="form_el_tag form_tx_tag tx-700 js-column-title" placeholder="Название колонки" type="text" value="<%%= column.get('title') %>" data-index="<%%= index %>">
                </div>
                <%% column.variants.each(function(variant, variant_index){ %>
                  <div class="form_el js-form_el form_tx">
                    <input class="form_el_tag form_tx_tag js-column-variant-title" type="text" value="<%%= variant.get('title') %>" data-column-index="<%%= index %>" data-variant-index="<%%= variant_index %>">
                  </div>
                <%% }); %>
                <div class="js-form_el form_el form_file js-image-upload-container" data-placeholder="Добавить изображение">
                  <span class='js-form_el_inner form_el_inner form_file_inner a_under'></span>
                  <input type="file" class="form_el_tag form_file_tag js-image-variant-upload" data-column-index="<%%= index %>">
                </div>
              </div>
          <%% }); %>
        </div>
      </div>
    </div>
  </div>
</script>
