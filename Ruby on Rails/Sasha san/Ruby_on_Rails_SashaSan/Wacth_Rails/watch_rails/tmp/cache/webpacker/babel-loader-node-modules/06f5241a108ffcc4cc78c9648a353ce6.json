{"ast":null,"code":"(function ($) {\n  $.searchbox = {};\n  $.extend(true, $.searchbox, {\n    settings: {\n      url: 'search',\n      param: 'search',\n      dom_id: '#livesearch',\n      minChars: 2,\n      loading_css: '#livesearch_loading',\n      del_id: '#livesearch_del'\n    },\n    loading: function loading() {\n      $($.searchbox.settings.loading_css).show();\n    },\n    idle: function idle() {\n      $($.searchbox.settings.loading_css).hide();\n    },\n    start: function start() {\n      $.searchbox.loading();\n      $(document).trigger('before.searchbox');\n    },\n    stop: function stop() {\n      $.searchbox.idle();\n      $(document).trigger('after.searchbox');\n    },\n    kill: function kill() {\n      $($.searchbox.settings.dom_id).fadeOut(50);\n      $($.searchbox.settings.dom_id).html('');\n      $($.searchbox.settings.del_id).fadeOut(100);\n    },\n    reset: function reset() {\n      $($.searchbox.settings.dom_id).html('');\n      $($.searchbox.settings.dom_id).fadeOut(50);\n      $('#SearchSearch').val('');\n      $($.searchbox.settings.del_id).fadeOut(100);\n    },\n    process: function process(terms) {\n      if (/\\S/.test(terms)) {\n        $.ajax({\n          type: 'GET',\n          url: $.searchbox.settings.url,\n          data: {\n            search: terms.trim()\n          },\n          complete: function complete(data) {\n            $($.searchbox.settings.del_id).fadeIn(50);\n            $($.searchbox.settings.dom_id).html(data.responseText);\n\n            if (!$($.searchbox.settings.dom_id).is(':empty')) {\n              $($.searchbox.settings.dom_id).fadeIn(100);\n            }\n\n            $.searchbox.stop();\n          }\n        });\n        return false;\n      } else {\n        $.searchbox.kill();\n      }\n    }\n  });\n\n  $.fn.searchbox = function (config) {\n    var settings = $.extend(true, $.searchbox.settings, config || {});\n    $(document).trigger('init.searchbox');\n    $.searchbox.idle();\n    return this.each(function () {\n      var $input = $(this);\n      $input.keyup(function () {\n        if ($input.val() != this.previousValue) {\n          if (/\\S/.test($input.val().trim()) && $input.val().trim().length > $.searchbox.settings.minChars) {\n            $.searchbox.start();\n            $.searchbox.process($input.val());\n          } else {\n            $.searchbox.kill();\n          }\n\n          this.previousValue = $input.val();\n        }\n      });\n    });\n  };\n})(jQuery);","map":{"version":3,"sources":["/home/sinkline/Sasha san/Wacth_Rails/watch_rails/app/javascript/packs/livesearch.js"],"names":["$","searchbox","extend","settings","url","param","dom_id","minChars","loading_css","del_id","loading","show","idle","hide","start","document","trigger","stop","kill","fadeOut","html","reset","val","process","terms","test","ajax","type","data","search","trim","complete","fadeIn","responseText","is","fn","config","each","$input","keyup","previousValue","length","jQuery"],"mappings":"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","sourcesContent":["(function($) {\n    $.searchbox = {}\n  \n    $.extend(true, $.searchbox, {\n      settings: {\n          url: 'search',\n          param: 'search',\n          dom_id: '#livesearch',\n          minChars: 2,\n          loading_css: '#livesearch_loading',\n          del_id: '#livesearch_del'\n      },\n  \n      loading: function() {\n          $($.searchbox.settings.loading_css).show()\n      },\n  \n      idle: function() {\n          $($.searchbox.settings.loading_css).hide()\n      },\n  \n      start: function() {\n        $.searchbox.loading()\n        $(document).trigger('before.searchbox')\n      },\n  \n      stop: function() {\n        $.searchbox.idle()\n        $(document).trigger('after.searchbox')\n      },\n  \n      kill: function() {\n          $($.searchbox.settings.dom_id).fadeOut(50)\n          $($.searchbox.settings.dom_id).html('')\n          $($.searchbox.settings.del_id).fadeOut(100)\n      },\n  \n      reset: function() {\n          $($.searchbox.settings.dom_id).html('')\n          $($.searchbox.settings.dom_id).fadeOut(50)\n          $('#SearchSearch').val('')\n          $($.searchbox.settings.del_id).fadeOut(100)\n      },\n  \n      process: function(terms) {\n  \n          if(/\\S/.test(terms)) {\n              $.ajax({\n                      type: 'GET',\n                      url:  $.searchbox.settings.url,\n                      data: {search: terms.trim()},\n                      complete: function(data) {  \n                          $($.searchbox.settings.del_id).fadeIn(50)\n                          $($.searchbox.settings.dom_id).html(data.responseText)\n  \n                          if (!$($.searchbox.settings.dom_id).is(':empty')) {\n                              $($.searchbox.settings.dom_id).fadeIn(100)\n                          }\n  \n                          $.searchbox.stop();\n                      }\n                  });\n              return false;\n          }else{\n              $.searchbox.kill();\n          }\n      }\n    });\n  \n  \n  \n      $.fn.searchbox = function(config) {\n          var settings = $.extend(true, $.searchbox.settings, config || {})\n  \n          $(document).trigger('init.searchbox')\n          $.searchbox.idle()\n  \n          return this.each(function() {\n              var $input = $(this)\n  \n              $input\n              .keyup(function() { \n                  if ($input.val() != this.previousValue) {\n  \n                      if(/\\S/.test($input.val().trim()) &&  $input.val().trim().length > $.searchbox.settings.minChars){ \n                          $.searchbox.start()\n                          $.searchbox.process($input.val())\n                      }else{\n                          $.searchbox.kill()\n                      }\n  \n                      this.previousValue = $input.val()\n  \n                  }\n              })\n          })\n      }\n  })(jQuery);"]},"metadata":{},"sourceType":"module"}